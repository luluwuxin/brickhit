{"version":3,"sources":["Over.js"],"names":["got","common","require","Const","bannerWidth","bannerTop","cc","Class","extends","Component","properties","scoreLabel","Label","bestLabel","share4Gold","Node","help4Gold","onLoad","wxAddLayer","getComponent","window","bannerAd","_bannerAd","startLoop","stopLoop","start","show","string","gameScore","console","log","setScore","getScore","active","onBtnRestart","director","loadScene","onBtnHome","getRank","hideBannerAd","getFriendsRankBtn","onBtnShare","shareBtn","showOfficalAcc","officalAccActive","hiddenOfficalAcc","showBannerAd","hide","onDestroy"],"mappings":";;;;;;AAAA,IAAIA,MAAM,EAAV;AACA,IAAIC,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,QAAQD,QAAQ,OAAR,CAAZ;AACA,IAAIE,cAAcD,MAAMC,WAAxB;AACA,IAAIC,YAAYF,MAAME,SAAtB;AACAC,GAAGC,KAAH,CAAS;AACRC,UAASF,GAAGG,SADJ;;AAGRC,aAAY;AACXC,cAAYL,GAAGM,KADJ;AAEXC,aAAWP,GAAGM,KAFH;AAGXE,cAAYR,GAAGS,IAHJ;AAIXC,aAAUV,GAAGS;AAJF,EAHJ;AASR;AACAE,SAAQ,kBAAY;AACnB,OAAKC,UAAL,GAAkB,KAAKC,YAAL,CAAkB,YAAlB,CAAlB;AACA;AACA,MAAGC,OAAOC,QAAV,EAAmB;AACT,QAAKC,SAAL,GAAiB,KAAKH,YAAL,CAAkB,aAAlB,CAAjB;AACA,QAAKG,SAAL,CAAeC,SAAf;AACA,QAAKD,SAAL,CAAeE,QAAf;AACH;AACP,EAlBO;AAmBRC,QAAO,iBAAU;AAChB,OAAKC,IAAL;AACA,EArBO;;AAuBRA,OAAM,gBAAY;AACjB,OAAKf,UAAL,CAAgBgB,MAAhB,GAAyBP,OAAOQ,SAAhC;AACA;AACAC,UAAQC,GAAR,CAAY,aAAZ,EAA2BV,OAAOQ,SAAlC;AACA,OAAKV,UAAL,CAAgBa,QAAhB,CAAyBX,OAAOQ,SAAhC;AACA,OAAKf,SAAL,CAAec,MAAf,GAAwB,KAAKT,UAAL,CAAgBc,QAAhB,EAAxB;AACA;AACA;AACA;AACA,OAAKlB,UAAL,CAAgBmB,MAAhB,GAA0B,KAA1B;AACA,OAAKjB,SAAL,CAAeiB,MAAf,GAAyB,KAAzB;AACA,EAlCO;;AAoCRC,eAAc,wBAAY;AACzB5B,KAAG6B,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACA,EAtCO;AAuCRC,YAAW,qBAAY;AACtB/B,KAAG6B,QAAH,CAAYC,SAAZ,CAAsB,OAAtB;AACA,EAzCO;AA0CRE,UAAS,mBAAY;AACpB,OAAKC,YAAL;AACA,OAAKrB,UAAL,CAAgBsB,iBAAhB;AACA,EA7CO;AA8CRC,aAAY,sBAAY;AACvB,OAAKvB,UAAL,CAAgBwB,QAAhB;AACA;;;;;;;;;;;;;;;;;;AAoBA,EApEO;AAqERC,iBAAgB,0BAAY;AACrB,OAAKzB,UAAL,CAAgB0B,gBAAhB,CAAiC,IAAjC;AACH,EAvEI;AAwELC,mBAAkB,4BAAY;AAC1B,OAAK3B,UAAL,CAAgB0B,gBAAhB,CAAiC,KAAjC;AACH,EA1EI;AA2ELE,eAAc,wBAAY;AACtB,MAAI,KAAKxB,SAAT,EAAoB,KAAKA,SAAL,CAAeI,IAAf;AACvB,EA7EI;AA8ELa,eAAc,wBAAY;AACtB,MAAI,KAAKjB,SAAT,EAAoB,KAAKA,SAAL,CAAeyB,IAAf;AAC1B,EAhFO;AAiFRC,YAAW,qBAAY;AACtB,OAAKH,gBAAL;AACM,OAAKN,YAAL;AACH;AApFI,CAAT","file":"Over.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["let got = 10;\r\nlet common = require(\"Common\");\r\nlet Const = require(\"Const\");\r\nlet bannerWidth = Const.bannerWidth;\r\nlet bannerTop = Const.bannerTop;\r\ncc.Class({\r\n\textends: cc.Component,\r\n\r\n\tproperties: {\r\n\t\tscoreLabel: cc.Label,\r\n\t\tbestLabel: cc.Label,\r\n\t\tshare4Gold: cc.Node,\r\n\t\thelp4Gold:cc.Node,\r\n\t},\r\n\t// use this for initialization\r\n\tonLoad: function () {\r\n\t\tthis.wxAddLayer = this.getComponent(\"wxAddLayer\");\r\n\t\t//this.showOfficalAcc();\r\n\t\tif(window.bannerAd){\r\n            this._bannerAd = this.getComponent(\"BannerBlock\");\r\n            this._bannerAd.startLoop();\r\n            this._bannerAd.stopLoop();\r\n        }\r\n\t},\r\n\tstart: function(){\r\n\t\tthis.show()\r\n\t},\r\n\r\n\tshow: function () {\r\n\t\tthis.scoreLabel.string = window.gameScore;\r\n\t\t//上传分数\r\n\t\tconsole.log(\"push score \", window.gameScore);\r\n\t\tthis.wxAddLayer.setScore(window.gameScore);\r\n\t\tthis.bestLabel.string = this.wxAddLayer.getScore();\r\n\t\t//for check \r\n\t\t//this.share4Gold.active \t= this.wxAddLayer.checkScore();\r\n\t\t//this.help4Gold.active \t= this.wxAddLayer.checkScore();\r\n\t\tthis.share4Gold.active \t= false;\r\n\t\tthis.help4Gold.active \t= false;\r\n\t},\r\n\r\n\tonBtnRestart: function () {\r\n\t\tcc.director.loadScene('game');\r\n\t},\r\n\tonBtnHome: function () {\r\n\t\tcc.director.loadScene('start');\r\n\t},\r\n\tgetRank: function () {\r\n\t\tthis.hideBannerAd();\r\n\t\tthis.wxAddLayer.getFriendsRankBtn();\r\n\t},\r\n\tonBtnShare: function () {\r\n\t\tthis.wxAddLayer.shareBtn();\r\n\t\t/*\r\n\t\tthis.wxAddLayer.shareBtnWithScore(0, (success) => {\r\n\t\t\tif (success) {\r\n\t\t\t\t\t//刷新操作\r\n\t\t\t\tif (cc.sys.platform === cc.sys.WECHAT_GAME) {\r\n\r\n\t\t\t\t\twx.showModal({\r\n\t\t\t\t\t\ttitle: ' 成功',\r\n\t\t\t\t\t\tcontent: \"炫耀成功，获得\" + got.toString() + \"金币\",\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t}\r\n\t\t}, got);\r\n\t\t*/\r\n\t},\r\n\tshowOfficalAcc: function () {\r\n        this.wxAddLayer.officalAccActive(true);\r\n    },\r\n    hiddenOfficalAcc: function () {\r\n        this.wxAddLayer.officalAccActive(false);\r\n    },\r\n    showBannerAd: function () {\r\n        if (this._bannerAd) this._bannerAd.show();\r\n    },\r\n    hideBannerAd: function () {\r\n        if (this._bannerAd) this._bannerAd.hide();\r\n\t},\r\n\tonDestroy: function () {\r\n\t\tthis.hiddenOfficalAcc();\r\n        this.hideBannerAd();\r\n    }\r\n});\r\n"]}