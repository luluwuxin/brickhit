{"version":3,"sources":["Ground.js"],"names":["timeOut","tagConst","require","PHYSICIS_TAG","cc","Class","extends","Component","properties","paddle","reset","game","onBeginContact","contact","self","other","tag","TAG_BALL","window","gameBalls","id","node","getComponent","destroy","console","log","rebornCtrl","ballsMap","inBalls","contackBall","TAG_BUFF","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,UAAU,IAAd;AACA,IAAIC,WAAWC,QAAQ,OAAR,EAAiBC,YAAhC;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,gBAAQP,QAAQ,QAAR;AAhBA,KAHP;;AAsBL;;AAEA;AACAQ,WAAO,eAAUC,IAAV,EAAgB;AACnB,aAAKA,IAAL,GAAYA,IAAZ;AACH,KA3BI;AA4BLC,oBAAgB,wBAAUC,OAAV,EAAmBC,IAAnB,EAAyBC,KAAzB,EAAgC;AAC5C,gBAAQA,MAAMC,GAAd;AACI,iBAAKf,SAASgB,QAAd;AACIC,uBAAOC,SAAP,IAAoB,CAApB;AACA,oBAAIC,KAAKL,MAAMM,IAAN,CAAWC,YAAX,CAAwB,MAAxB,EAAgCF,EAAzC;AACAL,sBAAMM,IAAN,CAAWE,OAAX;AACA,oBAAIL,OAAOC,SAAP,IAAoB,CAAxB,EAA2B;AACvBK,4BAAQC,GAAR,CAAY,QAAZ;AACA,yBAAKd,IAAL,CAAUe,UAAV;AACH,iBAHD,MAIK;AACD,wBAAG,CAACR,OAAOS,QAAP,CAAgBP,EAAhB,CAAJ,EAAyBF,OAAOU,OAAP,IAAkB,CAAlB;AACzB,yBAAKnB,MAAL,CAAYoB,WAAZ,CAAwBT,EAAxB;AACH;AACD;;;;;AAKA;AACJ,iBAAKnB,SAAS6B,QAAd;AACIf,sBAAMM,IAAN,CAAWE,OAAX;AACA;AArBR;AAuBH,KApDI;;AAsDLQ,SAtDK,mBAsDG,CAEP;AAxDI;;AA0DL;AA1DJ","file":"Ground.js","sourceRoot":"../../../../../assets/scripts/gameLogic","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\nlet timeOut = 0.35;\r\nlet tagConst = require(\"Const\").PHYSICIS_TAG;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        paddle: require(\"Paddle\"),\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    reset: function (game) {\r\n        this.game = game;\r\n    },\r\n    onBeginContact: function (contact, self, other) {\r\n        switch (other.tag) {\r\n            case tagConst.TAG_BALL:\r\n                window.gameBalls -= 1\r\n                let id = other.node.getComponent(\"Ball\").id;\r\n                other.node.destroy();\r\n                if (window.gameBalls <= 0) {\r\n                    console.log(\"gg smd\");\r\n                    this.game.rebornCtrl();\r\n                }\r\n                else {\r\n                    if(!window.ballsMap[id]) window.inBalls -= 1;\r\n                    this.paddle.contackBall(id);\r\n                }\r\n                /*\r\n                this.scheduleOnce(() => {\r\n                    other.node.active = false;\r\n                    other.node.destroy();\r\n                }, timeOut)*/\r\n                break;\r\n            case tagConst.TAG_BUFF:\r\n                other.node.destroy();\r\n                break;\r\n        }\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}