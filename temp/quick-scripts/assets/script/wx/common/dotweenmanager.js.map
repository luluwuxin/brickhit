{"version":3,"sources":["dotweenmanager.js"],"names":["DoTweenType","require","ScrollAnimation","DoTweenManager","cc","Class","statics","instance","getInstance","ctor","playScrollAnimation","type","node","duration","callback","MoveRightOut","moveRightOut","MoveLeftOut","moveLeftOut","MoveUpOut","moveUpOut","MoveDownOut","moveDownOut","MoveRightIn","moveRightIn","delta","action","moveBy","width","executeAction","easeIn","distance","x","height","moveListUp","nodes","i","length","moveUp","moveListLeft","moveLeft","MoveUp","popUpModelWnd","tag","scaleFrom","p","scaleBig","scaleSmall","scaleTo","scaleX","scaleY","y","sequence","removePopUpModelWnd","scaleToPointFast","rotateForever","repeatForever","rotateBy","showResourceDisPlay","targetPos","getPosition","moveTo","easeBackOut","twist","jellyEffect","scale1","scale2","easeQuarticActionOut","scaleToPoint","scaleToPointSlow","easeBackIn","addCallback","seq","setEaseAction","easeType","easing","setActionTag","setTag","getAction","getActionByTag","isActionDone","isDone","runAction"],"mappings":"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","file":"dotweenmanager.js","sourceRoot":"../../../../../../assets/script/wx/common","sourcesContent":["const DoTweenType = require('dotweendefine').DoTweenType;\r\nconst ScrollAnimation = require('dotweendefine').ScrollAnimation;\r\n\r\nvar DoTweenManager = cc.Class({\r\n\r\n    statics: {\r\n        instance: null,\r\n        getInstance: function () {\r\n            if (DoTweenManager.instance == null) {\r\n                DoTweenManager.instance = new DoTweenManager();\r\n            }\r\n            return DoTweenManager.instance;\r\n        }\r\n    },\r\n\r\n    ctor: function () {\r\n\r\n    },\r\n\r\n    /// for slot\r\n\r\n\r\n    /// for scrollview\r\n\r\n    /**\r\n     * 播放scrollview增加或删除动画\r\n     * @param {Number} type \r\n     * @param {Node} node \r\n     * @param {Number} duration \r\n     * @param {Function} callback \r\n     */\r\n    playScrollAnimation: function (type, node, duration, callback) {\r\n        switch (type) {\r\n            case ScrollAnimation.MoveRightOut:\r\n                this.moveRightOut(node, duration, callback);\r\n                break;\r\n            case ScrollAnimation.MoveLeftOut:\r\n                this.moveLeftOut(node, duration, callback);\r\n                break;\r\n            case ScrollAnimation.MoveUpOut:\r\n                this.moveUpOut(node, duration, callback);\r\n                break;\r\n            case ScrollAnimation.MoveDownOut:\r\n                this.moveDownOut(node, duration, callback);\r\n                break;\r\n            case ScrollAnimation.MoveRightIn:\r\n                this.moveRightIn(node, duration, callback);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    moveRightOut: function (node, duration, callback) {\r\n        let delta = 10;\r\n        let action = cc.moveBy(duration, node.width + delta, 0);\r\n        this.executeAction(node, action, cc.easeIn(2), DoTweenType.MoveRightOut, callback);\r\n    },\r\n\r\n    moveRightIn: function (node, duration, callback) {\r\n        let delta = 10;\r\n        let distance = node.width + delta;\r\n        node.x -= distance;\r\n        let action = cc.moveBy(duration, distance, 0);\r\n        this.executeAction(node, action, cc.easeIn(2), DoTweenType.MoveRightIn, callback);\r\n    },\r\n\r\n    moveLeftOut: function (node, duration, callback) {\r\n        let delta = 10;\r\n        let action = cc.moveBy(duration, -node.width - delta, 0);\r\n        this.executeAction(node, action, cc.easeIn(2), DoTweenType.MoveLeftOut, callback);\r\n    },\r\n\r\n    moveUpOut: function (node, duration, callback) {\r\n        let delta = 10;\r\n        let action = cc.moveBy(duration, 0, node.height + delta);\r\n        this.executeAction(node, action, cc.easeIn(2), DoTweenType.MoveUpOut, callback);\r\n    },\r\n\r\n    moveDownOut: function (node, duration, callback) {\r\n        let delta = 10;\r\n        let action = cc.moveBy(duration, 0, -node.height - delta);\r\n        this.executeAction(node, action, cc.easeIn(2), DoTweenType.MoveDownOut, callback);\r\n    },\r\n\r\n    moveListUp: function (nodes, duration, distance, callback) {\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            let node = nodes[i];\r\n            if (i != nodes.length - 1) {\r\n                this.moveUp(node, duration, distance);\r\n            } else {\r\n                this.moveUp(node, duration, distance, callback);\r\n            }\r\n        }\r\n    },\r\n\r\n    moveListLeft: function (nodes, duration, distance, callback) {\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            let node = nodes[i];\r\n            if (i != nodes.length - 1) {\r\n                this.moveLeft(node, duration, distance);\r\n            } else {\r\n                this.moveLeft(node, duration, distance, callback);\r\n            }\r\n        }\r\n    },\r\n\r\n    moveUp: function (node, duration, distance, callback) {\r\n        let action = cc.moveBy(duration, 0, distance);\r\n        this.executeAction(node, action, null, DoTweenType.MoveUp, callback);\r\n    },\r\n\r\n    moveLeft: function (node, duration, distance, callback) {\r\n        let action = cc.moveBy(duration, distance, 0);\r\n        this.executeAction(node, action, null, DoTweenType.MoveUp, callback);\r\n    },\r\n\r\n    /// 通用动作\r\n    popUpModelWnd: function (node, tag, callback) {\r\n        let scaleFrom = cc.p(0, 0);\r\n        let scaleBig = cc.p(1.1, 1.1);\r\n        let scaleSmall = cc.p(0.9, 0.9);\r\n        let scaleTo = cc.p(1, 1);\r\n\r\n        node.scaleX = scaleFrom.x;\r\n        node.scaleY = scaleFrom.y;\r\n        let action = cc.sequence(\r\n            cc.scaleTo(0.2, scaleBig.x, scaleBig.y),\r\n            cc.scaleTo(0.2, scaleSmall.x, scaleSmall.y),\r\n            cc.scaleTo(0.2, scaleTo.x, scaleTo.y),\r\n        );\r\n        \r\n        this.executeAction(node, action, cc.easeIn(1), tag, callback);\r\n    },\r\n\r\n    removePopUpModelWnd: function (node, tag, callback) {\r\n        let nodes = [node];\r\n        this.scaleToPointFast(nodes, tag, callback);\r\n    },\r\n\r\n    rotateForever: function (node, duration) {\r\n        let action = cc.repeatForever(\r\n            cc.rotateBy(duration, 360)\r\n        );\r\n        this.executeAction(node, action);\r\n    },\r\n\r\n    showResourceDisPlay: function (node, tag, callback) {\r\n        let targetPos = node.getPosition();\r\n        node.y += 200;\r\n        let action = cc.moveTo(0.5, targetPos);\r\n        this.executeAction(node, action, cc.easeBackOut(), tag, callback);\r\n    },\r\n\r\n\r\n    twist: function (node, tag, callback) {\r\n        let scaleFrom = cc.p(0.9, 1.1);\r\n        let scaleTo = cc.p(1.1, 0.9);\r\n        let duration = 0.5;\r\n        let action = cc.sequence(\r\n            cc.scaleTo(duration, scaleFrom.x, scaleFrom.y),\r\n            cc.scaleTo(duration, scaleTo.x, scaleTo.y),\r\n            cc.scaleTo(duration, 1, 1)\r\n        );\r\n        this.executeAction(node, action, cc.easeIn(1), tag, callback);\r\n    },\r\n\r\n    // 果冻效果\r\n    jellyEffect: function (node) {\r\n        let scale1 = cc.p(0.9, 1.1);\r\n        let scale2 = cc.p(1.1, 0.9);\r\n\r\n        let action = cc.repeatForever(\r\n            cc.sequence(\r\n                // cc.scaleTo(0.5, scale1.x, scale1.y).easing(cc.easeCubicActionOut()),\r\n                // cc.scaleTo(0.5, scale2.x, scale2.y).easing(cc.easeCubicActionOut())\r\n                cc.scaleTo(0.5, scale1.x, scale1.y),\r\n                cc.scaleTo(0.5, scale2.x, scale2.y)\r\n            )\r\n        );\r\n        this.executeAction(node, action, cc.easeQuarticActionOut());\r\n    },\r\n\r\n    /// move to be a point\r\n    scaleToPointFast: function (nodes, tag, callback) {\r\n        let duration = 0.2;\r\n        this.scaleToPoint(nodes, duration, tag, callback);\r\n    },\r\n\r\n    scaleToPointSlow: function (nodes, tag, callback) {\r\n        let duration = 0.3;\r\n        this.scaleToPoint(nodes, duration, tag, callback);\r\n    },\r\n\r\n    scaleToPoint: function (nodes, duration, tag, callback) {\r\n        let scaleTo = cc.p(0, 0);\r\n        for (let i = 0; i < nodes.length; i++) {\r\n            let node = nodes[i];\r\n            let action = cc.scaleTo(duration, scaleTo.x, scaleTo.y);\r\n\r\n            if (i != nodes.length - 1) {\r\n                this.executeAction(node, action, cc.easeBackIn(), tag);\r\n            } else {\r\n                this.executeAction(node, action, cc.easeBackIn(), tag, callback);\r\n            }\r\n        }\r\n    },\r\n\r\n    /// 低阶借口\r\n    // 添加动作结束回调\r\n    addCallback: function (action, callback) {\r\n        // let callback = callback.callback;\r\n        // let target = callback.target;\r\n        // let opt = callback.opt;\r\n\r\n        // let finished = cc.callFunc(callback, target, opt);\r\n        let seq = cc.sequence(action, callback);\r\n        return seq;\r\n    },\r\n\r\n    // 设置缓动动作\r\n    setEaseAction: function (action, easeType) {\r\n        if (!!easeType) {\r\n            action.easing(easeType);\r\n        }\r\n    },\r\n\r\n    // 设置动作标签\r\n    setActionTag: function (action, tag) {\r\n        if (!!tag) {\r\n            action.setTag(tag);\r\n        }\r\n    },\r\n\r\n    // 根据标签获取动作\r\n    getAction: function (node, tag) {\r\n        return node.getActionByTag(tag);\r\n    },\r\n\r\n    // 动作是否结束\r\n    isActionDone: function (node, tag) {\r\n        let action = this.getAction(node, tag);\r\n        if (action == null) {\r\n            return true;\r\n        }\r\n        return action.isDone();\r\n    },\r\n\r\n    /**\r\n     * 执行动作，可添加缓动动作，标签和回调\r\n     * @param {Node} node \r\n     * @param {ActionInterval} action \r\n     * @param {Object} easeType \r\n     * @param {Number} tag \r\n     * @param {ActionInstant} callback \r\n     */\r\n    executeAction: function (node, action, easeType, tag, callback) {\r\n        this.setEaseAction(action, easeType);\r\n        this.setActionTag(action, tag);\r\n        if (!!callback) {\r\n            action = this.addCallback(action, callback);\r\n        }\r\n        node.runAction(action);\r\n    }\r\n});\r\n"]}