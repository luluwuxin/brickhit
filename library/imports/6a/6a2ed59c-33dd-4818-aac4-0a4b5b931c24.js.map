{"version":3,"sources":["../../../../../../assets/script/wx/match/assets/script/wx/match/matchRankItem.js"],"names":["cc","Class","extends","Component","properties","onLoad","start","init","data","index","rankLb","find","node","getComponent","Label","nameLb","avatar","Sprite","gradeLb","string","name","score","self","texture","portrait","split","loader","load","url","type","err","spriteFrame","SpriteFrame","setTexture"],"mappings":";;;;;;AAAA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAOL;;AAEAC,UATK,oBASK;AACN;AACH,KAXI;AAaLC,SAbK,mBAaI,CAER,CAfI;AAiBLC,QAjBK,gBAiBCC,IAjBD,EAiBOC,KAjBP,EAiBc;AACf,aAAKC,MAAL,GAAcV,GAAGW,IAAH,CAAQ,MAAR,EAAgB,KAAKC,IAArB,EAA2BC,YAA3B,CAAwCb,GAAGc,KAA3C,CAAd;AACA,aAAKC,MAAL,GAAcf,GAAGW,IAAH,CAAQ,MAAR,EAAgB,KAAKC,IAArB,EAA2BC,YAA3B,CAAwCb,GAAGc,KAA3C,CAAd;AACA,aAAKE,MAAL,GAAchB,GAAGW,IAAH,CAAQ,YAAR,EAAsB,KAAKC,IAA3B,EAAiCC,YAAjC,CAA8Cb,GAAGiB,MAAjD,CAAd;AACA,aAAKC,OAAL,GAAelB,GAAGW,IAAH,CAAQ,YAAR,EAAsB,KAAKC,IAA3B,EAAiCC,YAAjC,CAA8Cb,GAAGc,KAAjD,CAAf;;AAEA,aAAKJ,MAAL,CAAYS,MAAZ,GAAqB,OAAOV,QAAQ,CAAf,IAAoB,GAAzC;AACA,aAAKM,MAAL,CAAYI,MAAZ,GAAqBX,KAAKY,IAAL,IAAa,EAAlC;AACA,aAAKF,OAAL,CAAaC,MAAb,GAAsBX,KAAKa,KAAL,IAAc,CAApC;;AAEA;AACA,YAAIC,OAAO,IAAX;AACA,YAAIC,UAAUf,KAAKgB,QAAnB;AACA,YAAI,CAACD,OAAL,EAAc;AACV;AACH;AACDA,kBAAUA,QAAQE,KAAR,CAAc,IAAd,EAAoB,CAApB,CAAV;AACAF,kBAAUA,UAAU,KAApB;AACAvB,WAAG0B,MAAH,CAAUC,IAAV,CAAe,EAAEC,KAAKL,OAAP,EAAgBM,MAAM,KAAtB,EAAf,EAA8C,UAAUC,GAAV,EAAeP,OAAf,EAAwB;AAClE;AACA,gBAAIQ,cAAc,IAAI/B,GAAGgC,WAAP,EAAlB;AACAD,wBAAYE,UAAZ,CAAuBV,OAAvB;AACAD,iBAAKN,MAAL,CAAYe,WAAZ,GAA0BA,WAA1B;AACH,SALD;AAMH;;AAED;;AA3CK,CAAT","file":"matchRankItem.js","sourceRoot":"../../../../../../assets/script/wx/match","sourcesContent":["// var this = null;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        // this = this;\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    init (data, index) {\r\n        this.rankLb = cc.find('rank', this.node).getComponent(cc.Label);\r\n        this.nameLb = cc.find('name', this.node).getComponent(cc.Label);\r\n        this.avatar = cc.find('mask/image', this.node).getComponent(cc.Sprite);\r\n        this.gradeLb = cc.find('star/grade', this.node).getComponent(cc.Label);\r\n\r\n        this.rankLb.string = '第' + (index + 4) + '名';\r\n        this.nameLb.string = data.name || '';\r\n        this.gradeLb.string = data.score || 0;\r\n\r\n        //获取人物头像\r\n        var self = this;\r\n        var texture = data.portrait;\r\n        if (!texture) {\r\n            return;\r\n        }\r\n        texture = texture.split(\"/0\", 1);\r\n        texture = texture + \"/64\";\r\n        cc.loader.load({ url: texture, type: 'png' }, function (err, texture) {\r\n            //console.log(\"loadUrl\",texture instanceof cc.Texture2D)\r\n            var spriteFrame = new cc.SpriteFrame();\r\n            spriteFrame.setTexture(texture);\r\n            self.avatar.spriteFrame = spriteFrame;\r\n        });\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}