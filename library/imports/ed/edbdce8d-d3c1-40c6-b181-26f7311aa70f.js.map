{"version":3,"sources":["../../../../../../assets/script/wx/myAssist/assets/script/wx/myAssist/assistLayerJs.js"],"names":["self","cc","Class","extends","Component","properties","tiems","Label","onLoad","_tiems","closeBtn","node","active","start","init","callBack","_callBack","parent","js","getComponent","_stopTimes","Math","floor","random","schedule","mainTime","string","unschedule"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,OAAO,IAAX;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,eAAOL,GAAGM;AAhBF,KAHP;;AAsBL;;AAEAC,UAxBK,oBAwBK;AACNR,eAAO,IAAP;AACAA,aAAKS,MAAL,GAAc,CAAd;AACH,KA3BI;AA4BLC,YA5BK,sBA4BK;;AAEN;AACAV,aAAKW,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH,KAhCI;AAiCLC,SAjCK,mBAiCI,CAER,CAnCI;AAoCLC,QApCK,gBAoCAC,QApCA,EAoCS;AACVf,aAAKgB,SAAL,GAAiBD,QAAjB;AACA,YAAIE,SAASjB,KAAKW,IAAL,CAAUM,MAAvB;AACA,YAAIC,KAAKD,OAAOE,YAAP,CAAoB,YAApB,CAAT;AACA,YAAG,CAAC,CAAC,CAACD,EAAN,EAAS;AACL;AACH;AACDlB,aAAKS,MAAL,GAAc,CAAd;AACAT,aAAKoB,UAAL,GAAkBC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAc,EAAzB,IAA+B,CAA/B,GAAmC,CAArD;AACAvB,aAAKwB,QAAL,CAAcxB,KAAKyB,QAAnB,EAA4B,CAA5B;AACH,KA9CI;AA+CLA,YA/CK,sBA+CK;AACNzB,aAAKM,KAAL,CAAWoB,MAAX,GAAoB1B,KAAKS,MAAzB;AACA,YAAGT,KAAKS,MAAL,IAAeT,KAAKoB,UAApB,IAAkCpB,KAAKS,MAAL,IAAe,CAApD,EAAuD;AACnD,gBAAGT,KAAKgB,SAAR,EAAkB;AACdhB,qBAAKgB,SAAL;AACH;AACDhB,iBAAK2B,UAAL,CAAgB,KAAKF,QAArB;AACAzB,iBAAKU,QAAL;AACA;AACH;AACDV,aAAKS,MAAL;AACH;AACD;;AA3DK,CAAT","file":"assistLayerJs.js","sourceRoot":"../../../../../../assets/script/wx/myAssist","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\nvar self = null;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        tiems: cc.Label,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        self = this;\r\n        self._tiems = 5;\r\n    },\r\n    closeBtn(){\r\n        \r\n        //self.timesNode.active = false;\r\n        self.node.active = false;\r\n    },\r\n    start () {\r\n\r\n    },\r\n    init(callBack){\r\n        self._callBack = callBack;\r\n        var parent = self.node.parent;\r\n        var js = parent.getComponent('wxAddLayer');\r\n        if(!!!js){\r\n            return;   \r\n        }\r\n        self._tiems = 5;\r\n        self._stopTimes = Math.floor(Math.random()*10) % 3 + 1;\r\n        self.schedule(self.mainTime,1);\r\n    },\r\n    mainTime(){\r\n        self.tiems.string = self._tiems;\r\n        if(self._tiems <= self._stopTimes || self._tiems <= 0 ){\r\n            if(self._callBack){\r\n                self._callBack();\r\n            }\r\n            self.unschedule(this.mainTime);\r\n            self.closeBtn();\r\n            return;\r\n        }\r\n        self._tiems --;\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}