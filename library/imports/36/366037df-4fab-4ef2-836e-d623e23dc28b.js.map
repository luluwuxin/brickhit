{"version":3,"sources":["../../../../../../assets/script/wx/savePhotos/assets/script/wx/savePhotos/preview.js"],"names":["config","require","previewImage","urls","officalAccount","url","Math","floor","random","length","temp","wx","loadRes","width","deviation","cc","loader","Prefab","err","prefab","newNode","instantiate","canvas","find","addChild","direction","x","y","percent","height","bigger","scaleBy","seq","repeat","sequence","moveBy","runAction","officalAccLoad","module","exports"],"mappings":";;;;;;AAAA,IAAIA,SAASC,QAAQ,QAAR,CAAb;;AAEA,IAAMC,eAAe,SAAfA,YAAe,GAAY;AAC7B,QAAIC,OAAOH,OAAOI,cAAP,CAAsBD,IAAjC;AACA,QAAIE,MAAMF,KAAKG,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAiBL,KAAKM,MAAjC,CAAL,CAAV;AACA,QAAIC,OAAO,CAACL,GAAD,CAAX,CAH6B,CAGX;AAClBM,OAAGT,YAAH,CAAgB;AACZ;AACAC,cAAMO,IAFM,CAED;AAFC,KAAhB;AAIH,CARD;;AAUA,IAAME,UAAU,SAAVA,OAAU,GAAY;AACxB,QAAIC,QAAQb,OAAOI,cAAP,CAAsBS,KAAlC;AACA,QAAIC,YAAU,CAAC,MAAID,KAAL,IAAY,GAA1B;AACAE,OAAGC,MAAH,CAAUJ,OAAV,CAAkB,0BAAlB,EAA8CG,GAAGE,MAAjD,EAAyD,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AAC5E,YAAIC,UAAUL,GAAGM,WAAH,CAAeF,MAAf,CAAd;AACA,YAAIG,SAASP,GAAGQ,IAAH,CAAQ,QAAR,CAAb;AACAD,eAAOE,QAAP,CAAgBJ,OAAhB;AACA,YAAIpB,OAAOI,cAAP,CAAsBqB,SAAtB,IAAmC,MAAvC,EAA+C;AAC3CL,oBAAQM,CAAR,GAAY,EAAE,MAAIZ,SAAN,CAAZ;AACH,SAFD,MAEO;AACHM,oBAAQM,CAAR,GAAY,MAAIZ,SAAhB;AACH;AACDM,gBAAQO,CAAR,GAAY,CAAC3B,OAAOI,cAAP,CAAsBwB,OAAtB,GAAgC,GAAjC,IAAwC5B,OAAOI,cAAP,CAAsByB,MAA1E;AACA,YAAIC,SAASf,GAAGgB,OAAH,CAAW,CAAX,EAAc,CAAd,CAAb;AACA;AACA,YAAIC,MAAMjB,GAAGkB,MAAH,CACNlB,GAAGmB,QAAH,CACInB,GAAGoB,MAAH,CAAU,GAAV,EAAe,EAAf,EAAmB,CAAnB,CADJ,EAEIpB,GAAGoB,MAAH,CAAU,GAAV,EAAe,CAAC,EAAhB,EAAoB,CAApB,CAFJ,EAGIpB,GAAGgB,OAAH,CAAW,GAAX,EAAgB,GAAhB,CAHJ,EAIIhB,GAAGgB,OAAH,CAAW,GAAX,EAAgB,GAAhB,CAJJ,CADM,EAMH,CANG,CAAV;AAOAX,gBAAQgB,SAAR,CAAkBJ,GAAlB;AACH,KApBD;AAqBH,CAxBD;;AA0BA,IAAMK,iBAAe,SAAfA,cAAe,GAAU;AAC3BtB,OAAGC,MAAH,CAAUJ,OAAV,CAAkB,8BAAlB,EAAkDG,GAAGE,MAArD,EAA6D,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AAChF,YAAIC,UAAUL,GAAGM,WAAH,CAAeF,MAAf,CAAd;AACA,YAAIG,SAASP,GAAGQ,IAAH,CAAQ,QAAR,CAAb;AACAD,eAAOE,QAAP,CAAgBJ,OAAhB;AACH,KAJD;AAKH,CAND;;AAQAkB,OAAOC,OAAP,GAAiB;AACbrC,kBAAcA,YADD;AAEbU,aAASA,OAFI;AAGbyB,oBAAeA;AAHF,CAAjB","file":"preview.js","sourceRoot":"../../../../../../assets/script/wx/savePhotos","sourcesContent":["var config = require('config');\r\n\r\nconst previewImage = function () {\r\n    var urls = config.officalAccount.urls;\r\n    var url = urls[Math.floor(Math.random() * (urls.length))];\r\n    var temp = [url]; //切换为[url]\r\n    wx.previewImage({\r\n        // current: this.data.imgalist, // 当前显示图片的http链接    \r\n        urls: temp // 需要预览的图片http链接列表   \r\n    })\r\n}\r\n\r\nconst loadRes = function () {\r\n    var width = config.officalAccount.width;\r\n    var deviation=(640-width)*0.5;\r\n    cc.loader.loadRes(\"wx/savePhotos/officalBtn\", cc.Prefab, function (err, prefab) {\r\n        var newNode = cc.instantiate(prefab);\r\n        var canvas = cc.find(\"Canvas\");\r\n        canvas.addChild(newNode);\r\n        if (config.officalAccount.direction == \"left\") {\r\n            newNode.x = -(280-deviation);\r\n        } else {\r\n            newNode.x = 280-deviation;\r\n        }\r\n        newNode.y = (config.officalAccount.percent - 0.5) * config.officalAccount.height;\r\n        var bigger = cc.scaleBy(3, 2);\r\n        // var smaller=bigger.reverse();\r\n        var seq = cc.repeat(\r\n            cc.sequence(\r\n                cc.moveBy(0.5, 30, 0),\r\n                cc.moveBy(0.5, -30, 0),\r\n                cc.scaleBy(0.4, 1.2),\r\n                cc.scaleBy(0.4, 0.8)\r\n            ), 1);\r\n        newNode.runAction(seq);\r\n    })\r\n}\r\n\r\nconst officalAccLoad=function(){\r\n    cc.loader.loadRes(\"wx/savePhotos/officalAccount\", cc.Prefab, function (err, prefab) {\r\n        var newNode = cc.instantiate(prefab);\r\n        var canvas = cc.find(\"Canvas\");\r\n        canvas.addChild(newNode);\r\n    })\r\n}\r\n\r\nmodule.exports = {\r\n    previewImage: previewImage,\r\n    loadRes: loadRes,\r\n    officalAccLoad:officalAccLoad,\r\n}"]}