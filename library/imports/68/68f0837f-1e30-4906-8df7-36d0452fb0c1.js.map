{"version":3,"sources":["../../../../assets/scripts/assets/scripts/Start.js"],"names":["window","bannerAd","flashAd","lang","require","common","Const","bannerWidth","bannerTop","cc","Class","extends","Component","properties","rank","Node","more","soundSprite","Sprite","spriteFrames","default","type","SpriteFrame","displayName","help4Gold","ctor","sys","platform","WECHAT_GAME","WECHAT_ANDROID","wx","getSystemInfoSync","system","toLowerCase","indexOf","getUsrData","getVersionData","onLoad","wxAddLayer","getComponent","director","preloadScene","console","log","_bannerAd","startLoop","stopLoop","start","spriteFrame","sound","active","playGame","officalAccActive","loadScene","getRank","hideBannerAd","getFriendsRankBtn","saveOfficalAcc","saveOfficalAccount","setSound","getMore","_flyText","LANG_NOT_OPENED","update","dt","showBannerAd","show","hide","onDestroy"],"mappings":"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","file":"Start.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\n//let UsrData = require(\"UsrData\");\r\n\r\n//window.console.log = function(){};\r\nwindow.bannerAd = false;\r\nwindow.flashAd = true;\r\n//小包关闭视频激励广告\r\nwindow.flashAd = false;\r\n\r\nlet lang = require(\"Lang\");\r\nlet common = require(\"Common\");\r\nlet Const = require(\"Const\")\r\n\r\nlet bannerWidth = Const.bannerWidth;\r\nlet bannerTop = Const.bannerTop;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //audioMng: cc.Node\r\n        rank: cc.Node,\r\n        more: cc.Node,\r\n        soundSprite: cc.Sprite,\r\n        spriteFrames: {\r\n            default: [],\r\n            type: [cc.SpriteFrame],\r\n            displayName: \"sound sprites\",\r\n        },\r\n        help4Gold: cc.Node, \r\n    },\r\n    ctor:()=>{\r\n        //微信android用户\r\n        if (cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n            window.WECHAT_ANDROID = wx.getSystemInfoSync().system.toLowerCase().indexOf(\"android\") != -1\r\n        }\r\n        getUsrData();\r\n        getVersionData();\r\n    },\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        //this.audioMng = this.audioMng.getComponent('AudioMng');\r\n        //this.audioMng.playMusic();\r\n        this.wxAddLayer = this.getComponent(\"wxAddLayer\");\r\n        //this.wxAddLayer.officalAccActive(true);\r\n        cc.director.preloadScene('game', function () {\r\n            console.log('Next scene preloaded');\r\n        });\r\n        \r\n        //if (WECHAT_ANDROID) getUsrData().sound = false;\r\n\r\n        //创建广告\r\n        if(window.bannerAd){\r\n            this._bannerAd = this.getComponent(\"BannerBlock\");\r\n            this._bannerAd.startLoop();\r\n            this._bannerAd.stopLoop();\r\n        }\r\n    },\r\n    start: function () {\r\n        this.soundSprite.spriteFrame = this.spriteFrames[getUsrData().sound ? 1 : 0];\r\n        //this.help4Gold.active = this.wxAddLayer.checkScore();\r\n        this.help4Gold.active = false;\r\n    },\r\n\r\n    playGame: function () {\r\n        this.wxAddLayer.officalAccActive(false)\r\n        cc.director.loadScene('game');\r\n    },\r\n\r\n    getRank: function () {\r\n        this.hideBannerAd();\r\n        this.wxAddLayer.getFriendsRankBtn();\r\n    },\r\n    saveOfficalAcc: function () {\r\n        this.hideBannerAd();\r\n        this.wxAddLayer.saveOfficalAccount();\r\n    },\r\n    setSound: function () {\r\n        let sound = getUsrData().sound\r\n        sound = !sound;\r\n        getUsrData().sound = sound;\r\n        this.soundSprite.spriteFrame = this.spriteFrames[sound ? 1 : 0];\r\n        console.log(getUsrData().sound)\r\n    },\r\n    getMore: function () {\r\n        common._flyText(this.more, lang.LANG_NOT_OPENED);\r\n    },\r\n\r\n    // called every frame\r\n    update: function (dt) {\r\n\r\n    },\r\n    showBannerAd: function () {\r\n        if (this._bannerAd) this._bannerAd.show();\r\n    },\r\n    hideBannerAd: function () {\r\n        if (this._bannerAd) this._bannerAd.hide();\r\n    },\r\n    onDestroy: function () {\r\n        this.hideBannerAd();\r\n    }\r\n});\r\n"]}